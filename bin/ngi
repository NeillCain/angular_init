#!/usr/bin/env ruby

#CURRENT_DIR = File.dirname(__FILE__)

require File.dirname(__FILE__)+'/../src/ruby/angular_init/angular_init'
#require 'pathname'
#puts Pathname.new($0).realpath()
#puts File.basename(Dir.getwd)

ARGS_SIZE = ARGV.size
CONFIG = AngularInit::Manager::Configure.get()

if ARGS_SIZE == 2
	command = ARGV[0]
	type = ARGV[1]
	# don't need to check if the variable is acceptable
	# Generator will do this (plug, the user is allowed
	# to use custom types, templates, etc., which are all
	# checked from the YAML config file (angular_init.config.yml)
	AngularInit::Manager.run(:config => CONFIG, :command => command, :type => type) if CONFIG['global']['commands'].collect{ |k,v| v }.include?(ARGV[0])
end